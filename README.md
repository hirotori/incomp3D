# Incompressible Fluid FLow Solver For Equil-Spaced Rectilinear Mesh
等間隔直交格子のための非圧縮性流体ソルバ.

## 現在の状態
移流項と粘性項の評価を選択可能にした. 陰解法には対応出来ていない.

## 概要
等間隔直交格子で流れ計算を行う. 

## 解析手順
### ビルド方法
本ソルバはライブラリ群`lib`とメインプログラム`src`に分けられている.

`lib`のビルドにはcmakeを利用する. まず初めに, ビルド用のディレクトリを作成しておく. 

次にconfigureを行う. コンパイラがgfortranの場合は以下のようにする. 

`cmake .. -DCMAKE_Fortran_COMPILER=gfortran`

コンパイラオプションを適用する場合は上に`-DCMAKE_BUILD_TYPE=`を指定する. デバッグモードは`debug`, リリースの場合は`release`とする.

cmakeによるconfigureが完了後, `make`コマンドを実行することでコンパイルを実施する. 終了後アーカイブ`libincomp3d.a`, `libincomp3d_util.a`が生成される.

`src`にはメインプログラムが入っている. 中身は本ライブラリの使用例である. 必要なら各自でクラスをオーバーライドなどしてカスタマイズすることが可能である. メインプログラムのビルドは`make`で実施することになっている. サンプルのMakefileを用意しているのでそちらを参考に.

**注意** `lib` と `src` のコンパイラは同じである必要がある.

## 離散化手法
有限体積法(コロケート格子)
- 移流項: 1次精度風上法
- 粘性項: 2次精度中心差分法
- 時間精度: 1次精度Euler陽解法

## 解法
フラクショナルステップ法

## 境界条件
境界条件は以下の通り. なおコントロールボリューム法では無く, 差分法のように仮想セルを導入している.

### 1. 流入条件
境界面に固定された速度（一様流）を与える. 圧力はNeumann境界となる.

### 2. 流出条件
対流流出条件を与える. ここでは流れ方向の速度の微分がゼロとする. 圧力は境界面で固定する.

**注意** 圧力を任意に指定することが出来るが, 普通は圧力の初期値と対応させるべき.

### 3. 滑り無し条件
滑り無し条件を課す. 境界面で速度をゼロに固定する. 圧力は流入条件と同様にNeumann境界となる.

### 4. 滑り条件

### 5. 周期境界条件
2つの境界面に指定することで周期境界条件を達成する. 

**注意** 可能なペアは i=1とi=imx, j=1とi=jmx, k=1とk=kmxの三通りのみ.

### 6. 非定常流出条件
まだ作ってない. 移流方程式に基づいて流出条件を設定する.

### 7. バッファ付き周期境界条件
周期境界として参照する**速度**を任意の場所に指定する.

**注意** 例えばi=1をこれにしたとき, i=imxについては周期境界ではなく流出条件とするべき.
